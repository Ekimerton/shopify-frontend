(this["webpackJsonpshopify-frontend"]=this["webpackJsonpshopify-frontend"]||[]).push([[0],{106:function(e,t,n){},108:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(19),o=n.n(a),s=(n(106),n(107),n(76)),r=n(69),l=n.n(r),j=n(89),d=n(38),u=(n(108),n(146)),b=n(145),m=n(98),h=n(99),p=n(147),f=n(144),O=n(46),y=n(30),x=n(70),g=n.n(x),v=n(10);n(127).config();var S=u.a.Step,C=b.a.Meta;g.a.defaults.withCredentials=!0;var w=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(""),o=Object(d.a)(a,2),r=o[0],x=o[1],w=Object(c.useState)([]),k=Object(d.a)(w,2),N=k[0],I=k[1],A=P("nominated",{}),z=Object(d.a)(A,2),B=z[0],T=z[1],D=P("nominatedCount",0),E=Object(d.a)(D,2),J=E[0],M=E[1];function P(e,t){var n=Object(c.useState)((function(){return JSON.parse(localStorage.getItem(e))||t})),i=Object(d.a)(n,2),a=i[0],o=i[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,o]}function Y(e){var t=e.body.imdbID in B;return Object(v.jsx)(b.a,{cover:Object(v.jsx)("img",{alt:"missing poster",src:e.body.Poster,height:300}),actions:[Object(v.jsx)(h.a,{type:"primary",disabled:t||J>=5,onClick:function(){return e.onClick(e.body)},children:"Nominate"})],children:Object(v.jsx)(C,{title:e.body.Title,description:e.body.Year})})}function R(e){return Object(v.jsx)(b.a,{cover:Object(v.jsx)("img",{alt:"missing poster",src:e.body.Poster,height:300}),actions:[Object(v.jsx)(h.a,{type:"primary",onClick:function(){return e.onClick(e.body)},children:"Remove"})],children:Object(v.jsx)(C,{title:e.body.Title,description:e.body.Year})})}var F=function(e){var t=Object(s.a)({},B);t[e.imdbID]=e,T(t),J>=4&&m.a.success({message:"Nominations Complete",description:"You have successfully nominated five movies! Scroll down to adjust nominations or share final picks."}),M(J+1)},H=function(e){var t=Object(s.a)({},B);delete t[e.imdbID],T(t),M(J-1)};return Object(v.jsx)("div",{children:Object(v.jsxs)("body",{className:"App-body",children:[Object(v.jsxs)(b.a,{className:"App-compartment",title:"The Shoppies",headStyle:{fontSize:24,textAlign:"center"},children:[Object(v.jsx)("p",{children:" Hello, this is my entry in the spotty awards. To use this service, either use the search component to look for films, or the nominations component to manage nominations. "}),Object(v.jsxs)(u.a,{size:"small",current:function(){switch(J){case 0:return 0;case 5:return 2;default:return 1}}(),children:[Object(v.jsx)(S,{title:"Search OMDB"}),Object(v.jsx)(S,{title:5==J?"Nominations Complete!":5-J+" Nominations Left"}),Object(v.jsx)(S,{title:"Evaluate Picks and Share"})]})]}),Object(v.jsxs)(b.a,{className:"App-compartment",title:"Search",headStyle:{fontSize:24,textAlign:"center"},children:[Object(v.jsx)("h3",{children:" Movie Title:"}),Object(v.jsx)(p.a,{placeholder:"Enter movie title here!",loading:n,allowClear:!0,size:"large",value:r,onChange:function(e){return function(e){var t=e.target.value;x(t),function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),g.a.get("http://www.omdbapi.com",{params:{apikey:"461330f7",type:"movie",s:t}}).then((function(e){console.log(e),"False"!==e.data.Response?I(e.data.Search):I([]),i(!1)})).catch((function(e){console.log(e),I([]),i(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)}(e)},style:{marginBottom:20}}),""!==r&&!n&&Object(v.jsxs)("h3",{children:["Showing results for: ",r]}),n&&Object(v.jsx)("div",{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:Object(v.jsx)(f.a,{})}),Object(v.jsx)(O.a,{gutter:16,style:{alignItems:"center",justifyContent:"center"},children:!n&&N.map((function(e){return Object(v.jsx)(y.a,{span:6,style:{marginBottom:15},children:Object(v.jsx)(Y,{body:e,onClick:F})})}))})]}),Object(v.jsx)(b.a,{className:"App-compartment",title:"Nominations",headStyle:{fontSize:24,textAlign:"center"},children:Object(v.jsx)(O.a,{gutter:16,style:{alignItems:"center",justifyContent:"center"},children:Object.entries(B).map((function(e){return Object(v.jsx)(y.a,{span:6,style:{marginBottom:15},children:Object(v.jsx)(R,{body:e[1],onClick:H})})}))})})]})})};o.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.6f036d6c.chunk.js.map