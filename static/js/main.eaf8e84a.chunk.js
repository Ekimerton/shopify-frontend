(this["webpackJsonpshopify-frontend"]=this["webpackJsonpshopify-frontend"]||[]).push([[0],{113:function(e,t,n){},115:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),o=n(22),s=n.n(o),a=(n(113),n(114),n(83)),r=n(45),l=(n(115),n(154)),j=n(152),b=n(106),d=n(153),u=n(107),m=n(157),h=n(155),p=n(96),f=n.n(p),O=n(15);n(134).config();var y=l.a.Step,x=j.a.Meta;var g=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(i.useState)(""),s=Object(r.a)(o,2),p=s[0],g=s[1],S=Object(i.useState)([]),v=Object(r.a)(S,2),w=v[0],C=v[1],N=D("nominated",{}),k=Object(r.a)(N,2),I=k[0],A=k[1],z=D("nominatedCount",0),T=Object(r.a)(z,2),M=T[0],Y=T[1];function D(e,t){var n=Object(i.useState)((function(){return JSON.parse(localStorage.getItem(e))||t})),c=Object(r.a)(n,2),o=c[0],s=c[1];return Object(i.useEffect)((function(){localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,s]}function E(e){var t=e.body.imdbID in I;return Object(O.jsxs)(d.b.Item,{children:[Object(O.jsx)(d.b.Item.Meta,{avatar:Object(O.jsx)("img",{alt:"missing poster",src:e.body.Poster,height:100,width:70}),title:e.body.Title,description:e.body.Year}),Object(O.jsx)(u.a,{type:"primary",disabled:t||M>=5,onClick:function(){return e.onClick(e.body)},children:"Nominate"})]})}function J(e){return Object(O.jsx)(j.a,{style:{width:200},cover:Object(O.jsx)("img",{alt:"missing poster",src:e.body.Poster,height:250}),actions:[Object(O.jsx)(u.a,{type:"primary",onClick:function(){return e.onClick(e.body)},children:"Remove"})],children:Object(O.jsx)(x,{title:e.body.Title,description:e.body.Year})})}Object(i.useEffect)((function(){c(!0),f.a.get("https://www.omdbapi.com",{params:{apikey:"461330f7",type:"movie",s:p.trim()}}).then((function(e){"False"!==e.data.Response?C(e.data.Search):C([]),c(!1)})).catch((function(e){C([]),c(!1)}))}),[p]);var R=function(e){var t=Object(a.a)({},I);t[e.imdbID]=e,A(t),M>=4&&b.a.success({message:"Nominations Complete",description:"You have successfully nominated five movies! Scroll up to adjust nominations or confirm final picks."}),Y(M+1)},B=function(e){var t=Object(a.a)({},I);delete t[e.imdbID],A(t),Y(M-1)};return Object(O.jsx)("div",{children:Object(O.jsxs)("body",{className:"App-body",children:[Object(O.jsxs)(j.a,{className:"App-compartment",title:"The Shoppies",headStyle:{fontSize:24,textAlign:"center"},children:[Object(O.jsx)("p",{children:" Hello, this is my entry in the shoppy awards. To use this service, either use the search component to look for films, or the nominations component to manage nominations. Your nominations will persist as you come and go from the site. "}),Object(O.jsxs)(l.a,{size:"small",current:function(){switch(M){case 0:return 0;case 5:return 3;default:return 1}}(),children:[Object(O.jsx)(y,{title:"Search OMDB"}),Object(O.jsx)(y,{title:5-M+" Nominations Left"}),Object(O.jsx)(y,{title:"Nominations Complete"})]})]}),Object(O.jsx)(j.a,{className:"App-compartment",title:"Nominations",headStyle:{fontSize:24,textAlign:"center",justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(m.b,{size:[16,16],wrap:!0,style:{justifyContent:"center",alignItems:"center"},children:Object.entries(I).map((function(e){return Object(O.jsx)(J,{body:e[1],onClick:B})}))})}),Object(O.jsxs)(j.a,{className:"App-compartment",title:"Search",headStyle:{fontSize:24,textAlign:"center"},children:[Object(O.jsx)("h3",{children:" Movie Title:"}),Object(O.jsx)(h.a,{placeholder:"Enter movie title here!",loading:n,allowClear:!0,size:"large",value:p,onChange:function(e){return g(e.target.value)},style:{marginBottom:20}}),""!==p&&!n&&Object(O.jsxs)("h3",{children:["Showing results for: ",p]}),Object(O.jsx)(d.b,{style:{width:"100%",justifyContent:"center"},dataSource:w,loading:n,locale:{emptyText:""===p?"Your Search Results Go Here!":"No Search Results"},renderItem:function(e){return Object(O.jsx)(E,{body:e,onClick:R})}})]})]})})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(g,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.eaf8e84a.chunk.js.map